<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Website</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
    <style>
        .movies-section h2 {
            margin-top: 20px;
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .movie-container {
            display: flex;
            overflow-x: auto;
            padding-bottom: 10px;
            scroll-behavior: smooth;
        }

        .movie-container::-webkit-scrollbar {
            display: none;
        }

        .movie-box {
            flex: 0 0 auto;
            width: 200px;
            margin-right: 20px;
        }

        .movie-img img {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        .movie-info {
            margin-top: 10px;
        }

        .movie-info h3 {
            font-size: 1.2em;
            margin: 5px 0;
        }

        .movie-info p {
            font-size: 0.9em;
            color: #555;
            margin: 5px 0;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .movie-info .release-date {
            font-size: 0.8em;
            color: #999;
        }

        .swiper-pagination-bullet {
            width: 6px !important;
            height: 6px !important;
            border-radius: 0.2rem !important;
            background: var(--bg-color) !important;
            opacity: 1 !important;
        }

        .swiper-pagination-bullet-active {
            width: 1.5rem !important;
            background: var(--main-color) !important;
        }
    </style>
</head>
<body>
    <!-- Navbar  -->
    <header>
        <a href="#home" class="logo">
            <i class='bx bxs-movie'></i>Sanamio
        </a>
        <div class="bx bx-menu" id="menu-icon"></div>
        <ul class="navbar">
            <li><a href="#home" class="home-active">Home</a></li>
            <li><a href="#movies">Movies</a></li>
            <li><a href="#coming">Coming</a></li>
            <li><a href="#newsletter">Newsletter</a></li>
        </ul>
        <a href="#" class="btn">Sign In</a>
    </header>

    <!-- Home  -->
    <section class="home swiper" id="home">
        <div class="swiper-wrapper">
            <div class="swiper-slide container">
                <img src="./img/home1.jpg" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Guardians of the Galaxy <br>Volume 2</h1>
                    <a href="" class="btn">Book Now</a>
                    <a href="#" class="play">
                        <i class='bx bx-play'></i>
                    </a>
                </div>
            </div>
            <div class="swiper-slide container">
                <img src="./img/home2.png" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Thor: <br>Love and Thunder</h1>
                    <a href="" class="btn">Book Now</a>
                    <a href="" class="play">
                        <i class='bx bx-play'></i>
                    </a>
                </div>
            </div>
            <div class="swiper-slide container">
                <img src="./img/home3.jpg" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Spider-Man <br>No Way Home</h1>
                    <a href="" class="btn">Book Now</a>
                    <a href="" class="play">
                        <i class='bx bx-play'></i>
                    </a>
                </div>
            </div>
            <div class="swiper-slide container">
                <img src="./img/home4.png" alt="">
                <div class="home-text">
                    <span>Marvel Universe</span>
                    <h1>Avengers: <br>End Game</h1>
                    <a href="" class="btn">Book Now</a>
                    <a href="" class="play">
                        <i class='bx bx-play'></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
    </section>

    <!-- Movies  -->
    <section class="movies-section" id="movies">
        <h2>Indian Heroes Movies</h2>
        <div class="movie-container" id="indianHeroesMovies"></div>
    
        <h2>Comedy Movies</h2>
        <div class="movie-container" id="comedyMovies"></div>
    
        <h2>Action Movies</h2>
        <div class="movie-container" id="actionMovies"></div>
    
        <h2>Horror Movies</h2>
        <div class="movie-container" id="horrorMovies"></div>
    
        <h2>Inspirational Movies</h2>
        <div class="movie-container" id="inspirationalMovies"></div>
    
        <h2>Family Movies</h2>
        <div class="movie-container" id="familyMovies"></div>
    </section>

    <!-- Newsletter -->
    <section class="newsletter" id="newsletter">
        <h2>Subscribe To Get <br>Newsletter</h2>
        <form action="">
            <input type="email" class="email" placeholder="Enter Email" required>
            <input type="submit" value="Subscribe" class="btn">
        </form>
    </section>

    <!-- Footer -->
    <section class="footer">
        <a href="" class="logo">
            <i class="bx bxs-movie"></i>Sanamio
        </a>
        <div class="social">
            <a href=""><i class='bx bxl-facebook'></i></a>
            <a href=""><i class='bx bxl-twitter'></i></a>
            <a href=""><i class='bx bxl-instagram'></i></a>
        </div>
    </section>

    <!-- Copyright -->
    <div class="copyright">
        <p>&#169; Sanamio All Right Reserved</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script src="main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const apiKey = 'cc41326c90b473b058a330120f8373f8'; // Replace with your actual API key
            const indianHeroes = ['Amitabh Bachchan', 'Rajinikanth', 'Aamir Khan', 'Hrithik Roshan', 'Ranbir Kapoor']; // Add more names as needed
            const actionHeroes = ['Allu Arjun', 'Naga Chaitanya', 'Kajal Aggarwal', 'Anushka Shetty', 'Samantha Ruth Prabhu', 'Rashmika Mandanna', 'Raashi Khanna', 'Keerthy Suresh', 'Nayanthara', 'Sai Pallavi'];
            const comedyHeroes = ['Akshay Kumar', 'Salman Khan', 'Kishor kumar'];

            function fetchMovies(url, containerId) {
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        const movies = data.results.filter(movie => movie.overview.trim() !== ''); // Filter out movies without a description
                        const container = document.getElementById(containerId);
                        container.innerHTML = movies.map(movie => `
                            <div class="movie-box">
                                <div class="movie-img">
                                    <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}">
                                </div>
                                <div class="movie-info">
                                    <h3>${movie.title}</h3>
                                    <p>${movie.overview}</p>
                                    <p class="release-date">${new Date(movie.release_date).toLocaleDateString()}</p>
                                </div>
                            </div>
                        `).join('');
                    })
                    .catch(error => console.error('Error fetching movies:', error));
            }

            function fetchIndianHeroesMovies() {
                const container = document.getElementById('indianHeroesMovies');
                container.innerHTML = 'Loading...';

                const promises = indianHeroes.map(hero => 
                    fetch(`https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${encodeURIComponent(hero)}`)
                        .then(response => response.json())
                        .then(data => {
                            if (data.results.length > 0) {
                                const personId = data.results[0].id;
                                return fetch(`https://api.themoviedb.org/3/person/${personId}/movie_credits?api_key=${apiKey}`)
                                    .then(response => response.json())
                                    .then(data => data.cast.filter(movie => movie.overview.trim() !== '')) // Filter out movies without a description
                                    .catch(error => console.error(`Error fetching movies for ${hero}:`, error));
                            }
                            return [];
                        })
                        .catch(error => console.error(`Error fetching person ${hero}:`, error))
                );

                Promise.all(promises).then(results => {
                    const allMovies = results.flat(); // Flatten the array of movie arrays
                    container.innerHTML = allMovies.map(movie => `
                        <div class="movie-box">
                            <div class="movie-img">
                                <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}">
                            </div>
                            <div class="movie-info">
                                <h3>${movie.title}</h3>
                                <p>${movie.overview}</p>
                                <p class="release-date">${new Date(movie.release_date).toLocaleDateString()}</p>
                            </div>
                        </div>
                    `).join('');
                });
            }

            function fetchActionMovies() {
                const container = document.getElementById('actionMovies');
                container.innerHTML = 'Loading...';

                const promises = actionHeroes.map(hero => 
                    fetch(`https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${encodeURIComponent(hero)}`)
                        .then(response => response.json())
                        .then(data => {
                            if (data.results.length > 0) {
                                const personId = data.results[0].id;
                                return fetch(`https://api.themoviedb.org/3/person/${personId}/movie_credits?api_key=${apiKey}`)
                                    .then(response => response.json())
                                    .then(data => data.cast.filter(movie => movie.genre_ids.includes(28) && movie.overview.trim() !== '')) // Filter for action genre (28) and movies with description
                                    .catch(error => console.error(`Error fetching movies for ${hero}:`, error));
                            }
                            return [];
                        })
                        .catch(error => console.error(`Error fetching person ${hero}:`, error))
                );

                Promise.all(promises).then(results => {
                    const allMovies = results.flat(); // Flatten the array of movie arrays
                    container.innerHTML = allMovies.map(movie => `
                        <div class="movie-box">
                            <div class="movie-img">
                                <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}">
                            </div>
                            <div class="movie-info">
                                <h3>${movie.title}</h3>
                                <p>${movie.overview}</p>
                                <p class="release-date">${new Date(movie.release_date).toLocaleDateString()}</p>
                            </div>
                        </div>
                    `).join('');
                });
            }

            function fetchComedyMovies() {
                const container = document.getElementById('comedyMovies');
                container.innerHTML = 'Loading...';

                const promises = comedyHeroes.map(hero => 
                    fetch(`https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${encodeURIComponent(hero)}`)
                        .then(response => response.json())
                        .then(data => {
                            if (data.results.length > 0) {
                                const personId = data.results[0].id;
                                return fetch(`https://api.themoviedb.org/3/person/${personId}/movie_credits?api_key=${apiKey}`)
                                    .then(response => response.json())
                                    .then(data => data.cast.filter(movie => movie.genre_ids.includes(35) && movie.overview.trim() !== '')) // Filter for comedy genre (35) and movies with description
                                    .catch(error => console.error(`Error fetching movies for ${hero}:`, error));
                            }
                            return [];
                        })
                        .catch(error => console.error(`Error fetching person ${hero}:`, error))
                );

                Promise.all(promises).then(results => {
                    const allMovies = results.flat(); // Flatten the array of movie arrays
                    container.innerHTML = allMovies.map(movie => `
                        <div class="movie-box">
                            <div class="movie-img">
                                <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}">
                            </div>
                            <div class="movie-info">
                                <h3>${movie.title}</h3>
                                <p>${movie.overview}</p>
                                <p class="release-date">${new Date(movie.release_date).toLocaleDateString()}</p>
                            </div>
                        </div>
                    `).join('');
                });
            }

            function fetchSportsMovies() {
                const container = document.getElementById('inspirationalMovies');
                container.innerHTML = 'Loading...';

                fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=99`) // Genre ID 99 for sports documentaries
                    .then(response => response.json())
                    .then(data => {
                        const movies = data.results.filter(movie => movie.overview.trim() !== ''); // Filter out movies without a description
                        container.innerHTML = movies.map(movie => `
                            <div class="movie-box">
                                <div class="movie-img">
                                    <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title}">
                                </div>
                                <div class="movie-info">
                                    <h3>${movie.title}</h3>
                                    <p>${movie.overview}</p>
                                    <p class="release-date">${new Date(movie.release_date).toLocaleDateString()}</p>
                                </div>
                            </div>
                        `).join('');
                    })
                    .catch(error => console.error('e wale btn ko click karu tabhi traler video chalna chahiye Error fetching sports movies:', error));
            }

            // Fetch movies featuring Indian heroes
            fetchIndianHeroesMovies();

            // Fetch action movies with specified actors
            fetchActionMovies();

            // Fetch comedy movies with specified actors
            fetchComedyMovies();

            // Fetch sports movies for the inspirational section
            fetchSportsMovies();

            // Fetch other movie genres
            const endpoints = {
                horrorMovies: `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=27`,
                familyMovies: `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=10751`,
            };

            Object.keys(endpoints).forEach(key => {
                if (key !== 'indianHeroesMovies' && key !== 'actionMovies' && key !== 'comedyMovies' && key !== 'inspirationalMovies') {
                    fetchMovies(endpoints[key], key);
                }
            });

            // Swiper initialization
            const swiper = new Swiper('.swiper', {
                loop: true,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                autoplay: {
                    delay: 5000,
                },
            });
        });
    </script>
</body>
</html>
